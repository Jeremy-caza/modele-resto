<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pizzeria Artisanale ‚Äì D√©mo (mod√®le renforc√©)</title>

  <!-- =================== POLICES =================== -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- ================== FAVICONS ================== -->
  <!-- D√©pose tes fichiers dans images/ (ou modifie les chemins) -->
  <link rel="icon" href="images/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="manifest" href="images/site.webmanifest">
  <meta name="theme-color" content="#0f172a">

  <style>
    :root {
      /* ========== COULEURS (gris / blanc / bleu + texte noir) ========== */
      --bg: #ffffff;        /* fond g√©n√©ral */
      --paper: #f8fafc;     /* panneaux/menus */
      --ink: #111111;       /* texte principal (noir) */
      --muted: #64748b;     /* texte secondaire */
      --accent: #1e40af;    /* bleu action (boutons actifs) */
      --accent-2: #1e3a8a;  /* bleu fonc√© */
      --border: #e5e7eb;    /* filets */
      --white: #ffffff;

      /* ========== TYPO ========== */
      --ff-head: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, sans-serif;
      --ff-body: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, sans-serif;

      /* ========== DIMENSIONS ========== */
      --maxw: 1200px;
      --radius-xl: 28px;
      --radius: 16px;
      --shadow-1: 0 6px 18px rgba(2, 6, 23, .06);
      --shadow-2: 0 14px 36px rgba(2, 6, 23, .12);

      /* ========== NAVBAR STABLE ========== */
      --nav-h: 64px;          /* hauteur fixe de la barre */
      --nav-pad: 10px;        /* padding vertical interne de .nav-wrap */
      --logo-max-h: calc(var(--nav-h) - var(--nav-pad)*2); /* hauteur maximale du logo */
    }

    /* ========== RESET SOLIDE ========== */
    *, *::before, *::after { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    @media (prefers-reduced-motion: reduce) {
      html { scroll-behavior: auto; }
    }
    body {
      margin: 0; color: var(--ink); background: var(--bg);
      font-family: var(--ff-body); line-height: 1.6; font-size: 16px; overflow-x: hidden;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; height: auto; display: block; }
    :focus-visible { outline: 2px solid var(--accent); outline-offset: 3px; border-radius: 8px; }

    .container { max-width: var(--maxw); margin-inline: auto; padding-inline: 20px; }
    .sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip: rect(0,0,0,0); white-space:nowrap; border:0; }

    /* =============================================================
       HEADER : barre stable + logo qui s'adapte (la barre ne bouge pas)
       ============================================================= */
    header { position: sticky; top: 0; z-index: 50; padding-top: 12px; background: linear-gradient(#ffffff 0, #ffffff00 100%); }
    .nav-wrap {
      background: var(--paper); border-radius: 999px; box-shadow: var(--shadow-1);
      padding: var(--nav-pad) 18px; display: flex; align-items: center; justify-content: space-between;
      min-height: var(--nav-h);
    }
    .brand { display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.5px; min-width:0; }
    /* Logo adaptable : hauteur max contr√¥l√©e par --logo-max-h */
    .brand img { max-height: var(--logo-max-h); width: auto; height: auto; object-fit: contain; }
    .brand span { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    nav { display:flex; align-items:center; gap:28px; font-weight:600; }
    nav a { opacity:.9; }
    nav a:hover, nav a.active { opacity:1; color: var(--accent-2); }

    /* Burger + menu mobile */
    .burger { display:none; width:42px; height:42px; border-radius: 10px; border:1px solid var(--border); background: var(--white); align-items:center; justify-content:center; }
    .burger span { width:22px; height:2px; background:var(--ink); position:relative; display:block; }
    .burger span::before, .burger span::after { content:""; position:absolute; left:0; right:0; height:2px; background:var(--ink); }
    .burger span::before { top:-7px; } .burger span::after { top:7px; }

    .mobile-menu { display:none; position: absolute; left:0; right:0; top: calc(var(--nav-h) + 12px); background:var(--paper); border-radius: 20px; box-shadow: var(--shadow-2); padding:16px; }
    .mobile-menu a { display:block; padding:12px 8px; font-weight:600; border-radius:10px; }
    .mobile-menu a:active { background:#00000008; }

    /* Backdrop pour clic ext√©rieur + lock scroll */
    .backdrop { position: fixed; inset: 0; background: rgba(15, 23, 42, .32); display: none; z-index: 40; }
    body.menu-open { overflow: hidden; }

    /* =================== Mobile tweaks =================== */
    @media (max-width: 900px) {
      html, body { overflow-x: hidden; }
      .container { padding-inline: 14px; }
      .nav-wrap { padding-inline: 12px; }
      .desktop-nav { display: none; }
      .burger { display: inline-grid; }
      .brand span { display: none; } /* √©vite le chevauchement du libell√© avec la nav */
    }

    /* ==== Offset d‚Äôancrage pour la barre sticky (fallback sans JS) ==== */
    #top, #apropos, #menu, #contact { scroll-margin-top: calc(var(--nav-h) + 20px); }

    /* =================== HERO =================== */
    .hero { padding: 100px 0 40px; position: relative; overflow: hidden; }
    /* arri√®re-plan plein √©cran optionnel via custom properties inline */
    .bg-bleed { position: relative; }
    .bg-bleed::before {
      content:""; position:absolute; z-index:-1; left:50%; top:0; width:100vw; height:100%; transform:translateX(-50%);
      background: var(--bg-img) center/cover no-repeat; opacity: var(--bg-opacity, .18)}

/* D√©calage horizontal doux du contenu du hero */
:root{--hero-offset-x: clamp(12px, 4vw, 56px); /* ajuste ici si tu veux plus/moins de d√©calage */}
.hero{ text-align:left; } /* on force l‚Äôalignement √† gauche du texte */
.hero .display,
.hero .subtitle,
.hero .hero-cta{margin-left: var(--hero-offset-x);max-width: min(720px, 95%)}

/* Sur mobile on r√©duit un peu le d√©calage */
@media (max-width: 700px){
  :root{ --hero-offset-x: 18px; }}

    .display {
      font-family: var(--ff-head); font-weight:900; line-height: .95; letter-spacing:.3px;
      font-size: clamp(48px, 8vw, 112px); text-transform: uppercase;
      color: var(--accent); position: relative;
      text-shadow: 0.18em 0.18em 0 #0f172a; /* ombre √©paisse bleut√©e */
    }
    .subtitle { font-size: clamp(22px, 3vw, 44px); color: var(--ink); opacity:.9; margin-top: 18px; }

    .hero-cta { margin-top: 28px; display:flex; gap:14px; flex-wrap: wrap; }
    .btn { display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:14px 22px; font-weight:800; border-radius: 14px; cursor:pointer; transition:.2s transform ease, .2s box-shadow ease; border:2px solid transparent; }
    .btn-primary { background: var(--accent); color: var(--white); box-shadow: var(--shadow-2); }
    .btn-primary:hover { transform: translateY(-2px); }
    .btn-ghost { background: transparent; border-color: var(--ink); color: var(--ink); }

    /* =================== INTRO =================== */
    .intro { padding: 30px 0 10px; }
    .intro .card { background: var(--paper); padding: 30px; border-radius: var(--radius-xl); box-shadow: var(--shadow-1); }
    .intro p { margin:0 0 12px; color:#223f5a; font-size: clamp(16px, 2vw, 18px); }

    /* =================== TABS MENU =================== */
    .tabs { margin-top: 40px; border-top:1px solid var(--border); border-bottom:1px solid var(--border); overflow:auto; }
    .tablist { display:flex; gap:28px; padding:22px 6px; min-width: max-content; }
    .tablist button { appearance:none; background:#0000; border:0; font-weight:800; font-family: var(--ff-head); font-size: clamp(16px, 2.4vw, 22px); color: var(--ink); padding:12px 18px; border-radius: 12px; cursor:pointer; opacity:.85; }
    .tablist button[aria-selected="true"] { background: var(--accent); color: var(--white); box-shadow: 0 8px 18px rgba(30,64,175,.25); opacity:1; }

    /* =================== LISTE PIZZAS =================== */
    .menu-section { padding: 18px 0 10px; }
    .grid { display:grid; grid-template-columns: 1fr; gap: 28px; }
    @media (min-width: 860px) { .grid { grid-template-columns: 1fr 1fr; } }
    .item { padding: 18px 0; border-bottom:1px dashed #d9d5cc; }
    .item h4 { margin:0 0 6px; font-family: var(--ff-head); font-weight:800; letter-spacing:.2px; }
    .item .price { font-weight:800; color: var(--accent-2); float:right; margin-left: 10px; }
    .item p { margin:0; color: var(--muted); }

    /* CTA entre sections */
    .block-cta { display:flex; justify-content:center; padding: 36px 0 20px; }

    /* =================== CONTACT =================== */
    #contact { padding: 70px 0; }
    .contact-wrap { display:grid; gap: 30px; grid-template-columns: 1fr; }
    @media (min-width: 980px) { .contact-wrap { grid-template-columns: 1.1fr .9fr; align-items: start; } }
    .form-card, .story-card { background: var(--paper); border-radius: var(--radius-xl); padding: 26px; box-shadow: var(--shadow-1); }
    .form-row { display:grid; grid-template-columns: 1fr; gap:12px; }
    @media (min-width: 640px) { .form-row.two { grid-template-columns: 1fr 1fr; } }
    label { font-weight:600; font-size: 14px; }
    input, textarea { width: 100%; padding: 12px 14px; border-radius: 12px; border:1px solid var(--border); outline:none; background: #fff; font-family: var(--ff-body); }
    textarea { min-height: 140px; resize: vertical; }
    .policy { font-size: 14px; color: var(--muted); display:flex; gap:10px; align-items: flex-start; }

    /* =================== FOOTER =================== */
    footer { padding: 48px 0 110px; color: var(--ink); }
    .footer-head { text-align:center; margin-bottom: 20px; }
    .footer-head .logo { height: 44px; }
    .footer-head .slogan { font-family: var(--ff-head); letter-spacing: 3px; font-weight:600; color: var(--muted); text-transform: uppercase; }
    .footer-top { display:grid; grid-template-columns: 1fr; gap: 28px; justify-items:center; text-align:center; padding: 14px 0 22px; }
    @media (min-width: 900px){ .footer-top { grid-template-columns: 1fr 1fr 1fr; } }
    .footer-top .info { display:flex; flex-direction:column; align-items:center; gap: 10px; }
    .footer-top .ico { font-size: 30px; line-height: 1; background: var(--paper); width: 56px; height:56px; border-radius: 999px; display:grid; place-items:center; box-shadow: var(--shadow-1); color: var(--ink); }
    .footer-top .label { font-weight:800; letter-spacing: .5px; }
    .foot-sep { border: 0; border-top:1px solid var(--border); margin: 26px 0; }
    .footer-bottom { display:flex; align-items:center; justify-content:space-between; gap: 12px; flex-wrap:wrap; color: var(--muted); font-size:14px; }
    .socials { display:flex; align-items:center; gap: 12px; }
    .socials a { width: 38px; height: 38px; border-radius: 999px; display:grid; place-items:center; background: var(--accent); color:#fff; font-weight: 900; text-decoration:none; transition: transform .15s ease; }
    .socials a:hover { transform: translateY(-1px); }

    /* =================== FAB CALL =================== */
    .fab-call {
      position: fixed; right: calc(18px + env(safe-area-inset-right)); bottom: calc(18px + env(safe-area-inset-bottom)); z-index: 60;
      width: 60px; height: 60px; border-radius: 999px; display:grid; place-items:center;
      background: var(--accent); color:#fff; box-shadow: 0 14px 28px rgba(30,64,175,.35);
      font-weight: 900; font-size: 22px; line-height: 1; text-decoration: none;
    }
    .fab-call:hover { transform: translateY(-2px); }
  </style>
</head>
<body>
  <!-- =================== HEADER =================== -->
  <header class="container" id="header">
    <div class="nav-wrap" role="navigation" aria-label="Navigation principale">
      <a class="brand" href="#top" aria-label="Accueil">
        <!-- Le logo s'adapte automatiquement √† la hauteur de la barre -->
        <img src="photomenu/lasolina_fondclair.png" alt="Logo Pizzeria" onerror="this.style.display='none'" loading="eager" fetchpriority="high">
        <span>PIZZERIA ARTISANALE</span>
      </a>

      <nav class="desktop-nav">
        <a href="#top" class="active">Accueil</a>
        <a href="#apropos">√Ä propos</a>
        <a href="#menu">Menu</a>
        <a href="#contact">Contact</a>
      </nav>

      <button class="burger" id="burger" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="mobileMenu"><span></span></button>

      <div class="mobile-menu" id="mobileMenu" role="dialog" aria-modal="true" aria-label="Menu">
        <a href="#top">Accueil</a>
        <a href="#apropos">√Ä propos</a>
        <a href="#menu">Menu</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </header>
  <div class="backdrop" id="backdrop" hidden></div>

  <!-- =================== HERO =================== -->
  <section class="hero container bg-bleed" id="top" style="--bg-img: url('photomenu/DSC00823.jpg'); --bg-opacity:.22;">
    <h1 class="display">Votre<br/>Pizzeria</h1>
    <p class="subtitle">Artisanale √† Tarbes</p>
    <div class="hero-cta">
      <a class="btn btn-primary" href="#menu">Voir le menu</a>
      <a class="btn btn-ghost" id="btnCommanderTop" href="#contact">Commander</a>
    </div>
  </section>

  <!-- =================== INTRO =================== -->
  <section class="intro container" id="apropos">
    <div class="card">
      <h2 style="font-family:var(--ff-head); font-weight:800; letter-spacing:.3px;">Une pizza chez‚Ä¶ ?</h2>
      <p>Au menu, plus de 40 pizzas artisanales sal√©es et sucr√©es, des ingr√©dients soigneusement s√©lectionn√©s, une p√¢te fra√Æche p√©trie tous les jours sur place, une sauce tomate maison, de l‚Äôamour, de la passion‚Ä¶ En somme, notre pizzeria offre bien plus qu‚Äôune simple exp√©rience culinaire : c‚Äôest une invitation √† partager des moments gourmands empreints de convivialit√© et de bonheur.</p>
      <div class="block-cta">
        <a class="btn btn-primary" href="#menu">D√©couvrir le menu</a>
      </div>
    </div>
  </section>

  <!-- =================== MENU (onglets) =================== -->
  <section class="container" id="menu">
    <div class="tabs">
      <div class="tablist" id="tablist" role="tablist" aria-label="Cat√©gories du menu"><!-- inject√© par JS --></div>
    </div>

    <div id="menuContent" class="menu-section"><!-- rendu par JS --></div>

    <div class="block-cta">
      <a class="btn" style="background:var(--accent); color:#fff;" href="#contact">Commander</a>
    </div>
  </section>

  <!-- =================== CONTACT =================== -->
  <section id="contact" class="container bg-bleed" style="--bg-img: url('photomenu/panneau.jpg'); --bg-opacity:.15;">
    <div class="contact-wrap">
      <form class="form-card" onsubmit="event.preventDefault(); alert('Merci ! Votre message a bien √©t√© pr√©par√© (d√©mo).');">
        <h2 style="font-family:var(--ff-head); font-weight:900;">Nous contacter</h2>
        <div class="form-row two">
          <div><label for="nom">Nom</label><input id="nom" name="nom" required></div>
          <div><label for="prenom">Pr√©nom</label><input id="prenom" name="prenom"></div>
        </div>
        <div class="form-row">
          <div><label for="tel">T√©l√©phone</label><input id="tel" name="tel" inputmode="tel" placeholder="06 12 34 56 78"></div>
        </div>
        <div class="form-row">
          <div><label for="email">Adresse e‚Äëmail</label><input id="email" name="email" type="email" placeholder="vous@exemple.fr"></div>
        </div>
        <div class="form-row">
          <div><label for="msg">Message</label><textarea id="msg" name="msg" placeholder="Votre demande‚Ä¶"></textarea></div>
        </div>
        <div style="margin-top:14px; display:flex; gap:12px; flex-wrap:wrap;">
          <button class="btn btn-primary" type="submit">Envoyer</button>
        </div>
      </form>
      <aside class="story-card">
        <p style="font-size:18px; margin-top:0;">Pour une soir√©e entre amis, un repas en famille ou simplement pour savourer l‚Äôune de nos d√©licieuses pizzas chez vous, nous vous promettons une exp√©rience culinaire exceptionnelle et pleine de saveurs‚ÄØ!</p>
        <img src="photomenu/DSC00809.jpg" alt="Part de pizza ‚Äì illustration" style="border-radius: 16px; box-shadow: var(--shadow-1);">
      </aside>
    </div>
  </section>

  <!-- =================== FOOTER =================== -->
  <footer class="container">
    <div class="footer-head">
      <img src="lasolina_fondclair.png" alt="Logo Pizzeria" class="logo" onerror="this.style.display='none'">
      <div class="slogan">PIZZAS ARTISANALES</div>
    </div>

    <div class="footer-top">
      <div class="info">
        <div class="ico">üïí</div>
        <div class="label" id="footHours">7j/7 de 18h √† 22h</div>
      </div>
      <div class="info">
        <div class="ico">üì±</div>
        <a class="label" id="footPhone" href="tel:+33000000000">05 62 51 70 17</a>
      </div>
      <div class="info">
        <div class="ico">üìç</div>
        <div class="label" id="footCity">TARBES 65000</div>
      </div>
    </div>

    <hr class="foot-sep">

    <div class="footer-bottom">
      <div class="socials">
        <a id="fbLink" aria-label="Facebook">f</a>
        <a id="igLink" aria-label="Instagram">ig</a>
      </div>
      <div class="links">
        <a id="mentionsLink" href="mentions.html" style="text-decoration:underline;">Mentions l√©gales</a>
      </div>
    </div>
  </footer>

  <!-- ===== Bouton t√©l√©phone flottant ===== -->
  <a class="fab-call" id="fabCall" href="tel:+33000000000" aria-label="Appeler">‚òé</a>

  <!-- =================== SCRIPTS =================== -->
  <script>
    // =================== CONFIG GLOBALE ===================
    const CONFIG = {
      business: {
        hours: "7j/7 de 18h √† 22h",
        city: "TARBES 65000",
        socials: { facebook: "#", instagram: "#" },
        legal: { mentions: "mentions.html", privacy: "#" }
      },
      phone: "+33500000000", // <‚Äî MODIFIEZ le num√©ro
      commanderTarget: "#contact",
      menu: {
        "Basiques": [
          { name: "La Fromage", price: 7.70, desc: "Sauce tomate, olives, mozzarella, emmental fondu. 33‚ÄØcm.", note: "6,60‚Ç¨ en 29‚ÄØcm" },
          { name: "La Proven√ßale", price: 8.90, desc: "Sauce tomate, olives, tomates cerises, persillade, herbes de Provence, mozzarella. 33‚ÄØcm.", note: "7,50‚Ç¨ en 29‚ÄØcm" },
          { name: "La Jambon", price: 9.90, desc: "Sauce tomate, olives, jambon sup√©rieur (porc fran√ßais), mozzarella. 33‚ÄØcm.", note: "8,60‚Ç¨ en 29‚ÄØcm" },
          { name: "La Reine", price: 11.50, desc: "Sauce tomate, olives, jambon, champignons, mozzarella. 33‚ÄØcm.", note: "9,50‚Ç¨ en 29‚ÄØcm" }
        ],
        "Classiques": [
          { name: "La Campagnarde", price: 11.80, desc: "Sauce tomate, olives, lardons, persillade, cr√®me fra√Æche, mozzarella. 29‚ÄØcm." },
          { name: "La Tropicale", price: 11.90, desc: "Sauce tomate, olives, jambon sup√©rieur (porc fran√ßais), ananas, cr√®me fra√Æche, mozzarella. 33‚ÄØcm." },
          { name: "La Ch√®vre", price: 11.20, desc: "Sauce tomate, olives, ch√®vre, mozzarella. 33‚ÄØcm.", note: "9,70‚Ç¨ en 29‚ÄØcm" },
          { name: "La Beni Veggie", price: 11.50, desc: "Sauce tomate, olives, poivrons, champignons, c≈ìurs d‚Äôartichauts, tomates, mozzarella. 33‚ÄØcm.", note: "9,20‚Ç¨ en 29‚ÄØcm" },
          { name: "La Chorizo", price: 11.50, desc: "Sauce tomate, olives, chorizo, oignons, poivrons, mozzarella. 33‚ÄØcm.", note: "9,50‚Ç¨ en 29‚ÄØcm" },
          { name: "L‚ÄôOrientale", price: 11.90, desc: "Sauce tomate, olives, merguez, oignons, poivrons, mozzarella. 33‚ÄØcm." }
        ],
        "Gourmandes": [
          { name: "La Raclette", price: 12.90, desc: "Cr√®me fra√Æche, pommes de terre, lardons, raclette, mozzarella." },
          { name: "La 4 Fromages", price: 12.50, desc: "Cr√®me fra√Æche, mozzarella, gorgonzola, emmental, parmesan." }
        ],
        "Sp√©ciales": [
          { name: "La Truffe", price: 14.90, desc: "Cr√®me de truffe, champignons, mozzarella, roquette." }
        ],
        "Bambino": [
          { name: "Margherita Bambino", price: 6.90, desc: "Tomate, mozzarella ‚Äì format enfant." }
        ],
        "Desserts & Boissons": [
          { name: "Tiramisu maison", price: 4.50, desc: "Classique, sp√©culoos ou pistache (selon arrivage)." },
          { name: "Boisson 33cl", price: 2.50, desc: "Cola, limonade, th√© glac√©‚Ä¶" }
        ]
      }
    };

    // =============== UTILITAIRES ===============
    const euro = n => (n).toLocaleString("fr-FR", { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + "‚Ç¨";
    const $ = sel => document.querySelector(sel);

    // =============== NAVIGATION ACTIVE + OFFSET STICKY ===============
    const tablist = document.getElementById('tablist');
    const menuContent = document.getElementById('menuContent');

    // Scroll avec compensation robuste (y compris si la hauteur de nav change)
    function getNavOffset(){
      const wrap = document.querySelector('.nav-wrap');
      if(!wrap) return 0;
      const styles = getComputedStyle(wrap);
      return wrap.getBoundingClientRect().height + parseInt(styles.marginBottom || '0') + 8; // 8px de marge visuelle
    }
    function smoothScrollTo(id){
      const el = document.querySelector(id);
      if(!el) return;
      const y = el.getBoundingClientRect().top + window.scrollY - getNavOffset();
      window.scrollTo({ top: y, behavior: 'smooth' });
    }

    // Activation liens (desktop + mobile)
    const navLinks = [...document.querySelectorAll('.desktop-nav a'), ...document.querySelectorAll('#mobileMenu a')];
    function setActive(hash){ navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === hash)); }

    // Gestion des clics d'ancrage
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const id = a.getAttribute('href');
        if (id && id.length > 1 && document.querySelector(id)) {
          e.preventDefault();
          history.pushState(null, '', id);
          smoothScrollTo(id);
          setActive(id);
          closeMobileMenu();
        }
      });
    });

    // Mise √† jour active au scroll via IntersectionObserver
    const sections = ['#top','#apropos','#menu','#contact'].map(s => document.querySelector(s)).filter(Boolean);
    const io = new IntersectionObserver((entries) => {
      let topMost = entries
        .filter(en => en.isIntersecting)
        .sort((a,b)=> a.boundingClientRect.top - b.boundingClientRect.top)[0];
      if(topMost){ setActive('#' + topMost.target.id); }
    }, { rootMargin: `-${getNavOffset()}px 0px -60% 0px`, threshold: 0.01 });
    sections.forEach(sec => io.observe(sec));

    // =============== TABS (clavier + a11y) ===============
    function renderTabs(){
      const cats = Object.keys(CONFIG.menu);
      tablist.innerHTML = cats.map((c,i)=>`<button role="tab" aria-selected="${i===0}" aria-controls="panel-${i}" id="tab-${i}" data-index="${i}">${c}</button>`).join('');
      tablist.addEventListener('click', e => {
        const btn = e.target.closest('button[role="tab"]');
        if(!btn) return; selectTab(Number(btn.dataset.index));
      });
      // Navigation clavier
      tablist.addEventListener('keydown', e => {
        const tabs = [...tablist.querySelectorAll('button[role="tab"]')];
        const current = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
        let next = current;
        if(e.key === 'ArrowRight') next = (current + 1) % tabs.length;
        else if(e.key === 'ArrowLeft') next = (current - 1 + tabs.length) % tabs.length;
        else if(e.key === 'Home') next = 0;
        else if(e.key === 'End') next = tabs.length - 1;
        else return;
        e.preventDefault(); selectTab(next); tabs[next].focus();
      });
    }

    function renderPanel(index){
      const cats = Object.keys(CONFIG.menu);
      const cat = cats[index];
      const items = CONFIG.menu[cat] || [];
      const html = `
        <div id="panel-${index}" role="tabpanel" aria-labelledby="tab-${index}">
          <div class="grid">
            ${items.map(it => `
              <article class="item">
                <h4>${it.name} <span class="price">${euro(it.price)}</span></h4>
                <p>${it.desc || ''}</p>
                ${it.note ? `<p style="font-size:14px; color:#9aa3ab; margin-top:6px;">${it.note}</p>` : ''}
              </article>
            `).join('')}
          </div>
        </div>`;
      menuContent.innerHTML = html;
    }

    function selectTab(index){
      tablist.querySelectorAll('button').forEach(b => b.setAttribute('aria-selected','false'));
      const active = tablist.querySelector(`[data-index="${index}"]`);
      if(active) active.setAttribute('aria-selected','true');
      renderPanel(index);
    }

    // =============== BURGER / MENU MOBILE (solide) ===============
    const burger = document.getElementById('burger');
    const mobileMenu = document.getElementById('mobileMenu');
    const backdrop = document.getElementById('backdrop');

    function openMobileMenu(){
      document.body.classList.add('menu-open');
      mobileMenu.style.display = 'block';
      backdrop.style.display = 'block'; backdrop.hidden = false;
      burger.setAttribute('aria-expanded','true');
      // Focus premier lien
      const first = mobileMenu.querySelector('a'); if(first) first.focus();
    }
    function closeMobileMenu(){
      document.body.classList.remove('menu-open');
      mobileMenu.style.display = 'none';
      backdrop.style.display = 'none'; backdrop.hidden = true;
      burger.setAttribute('aria-expanded','false');
    }

    burger.addEventListener('click', () => {
      const isOpen = burger.getAttribute('aria-expanded') === 'true';
      isOpen ? closeMobileMenu() : openMobileMenu();
    });
    mobileMenu.addEventListener('click', (e) => { if(e.target.tagName === 'A') closeMobileMenu(); });
    backdrop.addEventListener('click', closeMobileMenu);
    document.addEventListener('keydown', e => { if(e.key === 'Escape') closeMobileMenu(); });
    window.addEventListener('resize', () => { if (window.innerWidth > 900) closeMobileMenu(); });

    // =============== BOUTONS COMMANDER / APPEL ===============
    const fabCall = document.getElementById('fabCall');
    if (fabCall) fabCall.href = `tel:${CONFIG.phone}`;
    const commanderTop = document.getElementById('btnCommanderTop');
    if (commanderTop) commanderTop.href = CONFIG.commanderTarget;
    const commanderContact = document.getElementById('btnCommanderContact');
    if (commanderContact) commanderContact.href = `tel:${CONFIG.phone}`;

    // =============== FOOTER BINDINGS ===============
    const biz = CONFIG.business || {};
    const byId = id => document.getElementById(id);
    if (byId('footHours')) byId('footHours').textContent = biz.hours || '';
    if (byId('footCity')) byId('footCity').textContent = biz.city || '';
    if (byId('footPhone')) {
      const display = (CONFIG.phoneDisplay || '').trim();
      byId('footPhone').textContent = display || (CONFIG.phone || '').replace(/^\+33/, '0');
      byId('footPhone').href = `tel:${CONFIG.phone}`;
    }
    if (byId('fbLink')) byId('fbLink').href = (biz.socials && biz.socials.facebook) || '#';
    if (byId('igLink')) byId('igLink').href = (biz.socials && biz.socials.instagram) || '#';
    if (byId('mentionsLink')) byId('mentionsLink').href = (biz.legal && biz.legal.mentions) || '#';
    if (byId('privacyLink')) byId('privacyLink').href = (biz.legal && biz.legal.privacy) || '#';

    // =============== INIT ===============
    renderTabs();
    selectTab(0);
    setActive('#top');
    const yearEl = document.getElementById('year'); if (yearEl) yearEl.textContent = new Date().getFullYear();
  </script>
</body>
</html>
